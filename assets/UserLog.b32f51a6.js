import{t as l}from"./tableFlow.31edb31e.js";import{d as o}from"./datePicker.1a087a29.js";import{n as s}from"./index.621e7bf7.js";import"./vendor.c31495b0.js";var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-row",[t("el-col",{attrs:{span:24}},[t("k-search-card",{scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-button",{directives:[{name:"throttle",rawName:"v-throttle"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.getUserLogList()}}},[e._v("\u67E5\u8BE2")]),t("el-button",{directives:[{name:"throttle",rawName:"v-throttle"}],attrs:{size:"mini"},on:{click:function(a){e.resetQuery(),e.dateTime=[],e.getUserLogList()}}},[e._v("\u91CD\u7F6E")])]},proxy:!0}])},[t("el-form",{staticStyle:{display:"flex","flex-flow":"row wrap",gap:"10px"},attrs:{inline:!0,size:"small"},nativeOn:{submit:function(a){a.preventDefault()}}},[t("el-form-item",{attrs:{label:"\u7528\u6237\u6635\u79F0"}},[t("el-input",{model:{value:e.query.nickname,callback:function(a){e.$set(e.query,"nickname",a)},expression:"query.nickname"}})],1),t("el-form-item",{attrs:{label:"\u624B\u673A\u53F7"}},[t("el-input",{model:{value:e.query.mobile,callback:function(a){e.$set(e.query,"mobile",e._n(typeof a=="string"?a.trim():a))},expression:"query.mobile"}})],1),t("el-form-item",{attrs:{label:"\u9009\u62E9\u65F6\u95F4"}},[t("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4",align:"right","value-format":"timestamp"},model:{value:e.dateTime,callback:function(a){e.dateTime=a},expression:"dateTime"}})],1)],1)],1),t("k-table",{attrs:{headers:e.headers,data:e.data,"is-pagination":"",total:e.total,loading:e.loading,toolbar:"",reload:e.getUserLogList},on:{changePage:e.getUserLogList}})],1)],1)},p=[];const c={name:"UserLog",mixins:[l,o],data(){return{headers:[{label:"\u624B\u673A\u53F7",prop:"mobile"},{label:"\u7528\u6237\u6635\u79F0",prop:"nickname"},{label:"url",prop:"url",tooltip:!0},{label:"\u64CD\u4F5C",prop:"action",tooltip:!0},{label:"\u5185\u5BB9",prop:"content",tooltip:!0},{label:"ip",prop:"ip"},{label:"ua",prop:"ua",tooltip:!0},{label:"\u65F6\u95F4",prop:"created_at",type:"date",format:"YYYY-MM-DD HH:mm:ss"}],data:[]}},mounted(){this.getUserLogList()},methods:{async getUserLogList(e={page:1,limit:10}){this.loading=!0;try{this.dateTime.length!==0&&(this.query.start_time=this.dateTime[0]/1e3,this.query.end_time=this.dateTime[1]/1e3);let r=Object.assign(e,this.$libs.filterNullObject(this.query)),t=await this.$api.userLog.batchQuery(r);this.data=t.data.data,this.total=t.data.total}catch{}finally{this.loading=!1}}}},i={};var m=s(c,n,p,!1,u,"f40478d8",null,null);function u(e){for(let r in i)this[r]=i[r]}var b=function(){return m.exports}();export{b as default};
